<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box {
				width: 100px;
				margin: 10px auto 0;
				border: 1px solid black;
			}
			ul,h3 {
				margin: 0;
				padding: 0;
				text-align: center;
				cursor: pointer;
			}

			ul li {
				list-style: none;
				height: 30px;
				font:20px/30px "微软雅黑";
				background-color: orange;

			}
		</style>
	</head>
	<body>

		<div id="box">
			<h3>标题</h3>
			<ul>
				<li>新闻</li>
				<li>娱乐</li>
				<li>体育</li>
				<li>头条</li>
			</ul>
		</div>

	</body>
	<script src="myTools.js"></script>
	<script type="text/javascript">
		// 单击标题  让下面的ul 展开和收缩来回切换  （显示和隐藏） display

		// 1 获取相关元素
		// 标题h3 ul
		var oBox = $("#box");
		var aH3 = $("h3",oBox)[0];//
		//console.log(aH3);
		// 2 给标题添加单击事件
		// 设定一个变量 用来存一个布尔值为 真 设定一个开关
		var onOff = true;
		aH3.onclick = function(e) {
			//传入事件对象　做一个事件对象的兼容处理
			e = e || event;
			console.log(e);
			// 将当前的事件 取消冒泡 为真
			e.cancelBubble = true;
			if(onOff) {
				// 让当前单击的标题的下一个兄弟节点隐藏
				next(this).style.display = "none";
			} else {
				// 让当前单击的标题的下一个兄弟节点显示
				next(this).style.display = "block";
			}
			// 开关取反
			onOff = !onOff; //  false
		}

		document.onclick = function() {
//console.log(123);
			//setTimeout(function(){
				next(aH3).style.display = "none";
				onOff  = false;
			//},2000)
		}
	</script>
</html>
